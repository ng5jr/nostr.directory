import React from 'react';

import { Close } from '@mui/icons-material';
import { Tooltip } from '@mui/material';

type IProps = {
  text?: string;
  verified?: boolean;
  variant?: string;
  href?: string | undefined;
  children: any;
  error?: string;
};

export const TwitterIcon = (
  <svg
    width="40"
    height="32"
    viewBox="0 0 40 32"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M38.8671 6.73333V6.73333C39.221 6.43914 39.2694 5.91373 38.9752 5.55979C38.8614 5.42282 38.7067 5.32593 38.5337 5.28333L37.2171 4.95V4.95C36.7706 4.83822 36.4993 4.38569 36.6111 3.93923C36.6245 3.88553 36.6433 3.83331 36.6671 3.78333L37.4004 2.3V2.3C37.6002 1.8854 37.4261 1.38732 37.0115 1.1875C36.8316 1.1008 36.6266 1.08158 36.4337 1.13333L33.1004 2.06666V2.06666C32.8486 2.14011 32.5769 2.09071 32.3671 1.93333V1.93333C30.9246 0.851478 29.1701 0.266663 27.3671 0.266663V0.266663C22.7647 0.266663 19.0337 3.99763 19.0337 8.6V8.6V9.2V9.2C19.0353 9.41192 18.8775 9.59124 18.6671 9.61666C13.9837 10.1667 9.50039 7.78333 4.66706 2.21666V2.21666C4.45299 1.98058 4.12485 1.88406 3.81706 1.96666V1.96666C3.54002 2.094 3.35464 2.36248 3.33372 2.66666L3.33372 2.66667C2.66615 5.4089 2.93606 8.2957 4.10039 10.8667V10.8667C4.20416 11.0721 4.12177 11.3227 3.91638 11.4265C3.83943 11.4653 3.75232 11.4794 3.66706 11.4667L1.80039 11.1V11.1C1.34599 11.0269 0.9184 11.3361 0.845344 11.7905C0.829724 11.8876 0.831434 11.9868 0.850393 12.0833L0.850392 12.0833C1.14187 14.6743 2.59521 16.9922 4.80039 18.3833V18.3833C5.0075 18.4836 5.09408 18.7328 4.99377 18.9399C4.9529 19.0243 4.88477 19.0925 4.80039 19.1333L3.91706 19.4833V19.4833C3.48987 19.6546 3.2824 20.1397 3.45366 20.5669C3.46271 20.5895 3.47274 20.6116 3.48373 20.6333V20.6333C4.47529 22.803 6.46861 24.3478 8.81706 24.7667V24.7667C9.03337 24.8452 9.14508 25.0842 9.06657 25.3005C9.02446 25.4165 8.93308 25.5079 8.81706 25.55H8.81706C6.55099 26.4872 4.11917 26.9577 1.66706 26.9333V26.9333C1.20682 26.8413 0.759104 27.1398 0.667058 27.6C0.57501 28.0602 0.873488 28.5079 1.33372 28.6H1.33372C5.57962 30.6137 10.2024 31.7098 14.9004 31.8167V31.8167C19.0328 31.8797 23.0917 30.72 26.5671 28.4833L26.5671 28.4833C32.3734 24.6075 35.8524 18.081 35.8337 11.1V9.64999V9.65C35.8358 9.40505 35.9455 9.17342 36.1337 9.01666L38.8671 6.73333Z"
      fill="white"
    />
  </svg>
);

export const MastodonIcon = (
  <svg
    width="36"
    height="33"
    viewBox="0 0 36 33"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M35.0349 10.7895C35.0349 3.66068 29.6948 1.57044 29.6948 1.57044C24.4545 -0.534467 10.5372 -0.512464 5.34708 1.57044C5.34708 1.57044 0.00612678 3.66068 0.00612678 10.7895C0.00612678 19.2751 -0.547079 29.8143 8.85993 31.9926C12.2554 32.7773 15.1732 32.946 17.521 32.8287C21.7798 32.6233 24.1695 31.5012 24.1695 31.5012L24.027 28.7949C24.027 28.7949 20.9835 29.631 17.5629 29.5356C14.1757 29.4329 10.6059 29.2129 10.0502 25.5752V25.5752C9.99864 25.2372 9.97343 24.8966 9.97473 24.5557C17.1521 26.0886 23.2726 25.2231 24.9574 25.0471C29.6613 24.5557 33.7584 22.0181 34.2806 19.7005C35.102 16.0481 35.0349 10.7895 35.0349 10.7895V10.7895ZM28.7385 19.9719H24.83V11.5962C24.83 7.95116 19.4656 7.81181 19.4656 12.1023V16.6862H15.5822V12.1016C15.5822 7.81108 10.2178 7.95043 10.2178 11.5955V19.9711H6.30094C6.30094 11.0161 5.86508 9.1239 7.84404 7.13634C10.015 5.01676 14.5345 4.87741 16.547 7.58372L17.5193 9.01388L18.4916 7.58372C20.5125 4.86275 25.0395 5.03143 27.1945 7.13634C29.1819 9.13857 28.7368 11.0234 28.7368 19.9711L28.7385 19.9719Z"
      fill="white"
    />
  </svg>
);

export const NipIcon = (
  <svg
    width="38"
    height="38"
    viewBox="0 0 38 38"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      fillRule="evenodd"
      clipRule="evenodd"
      d="M2.38567 19C2.38517 18.777 2.34137 18.5542 2.25425 18.3442L1.05185 15.4329C0.797821 14.8198 0.666604 14.1617 0.666504 13.498C0.666397 12.834 0.797137 12.1764 1.05124 11.563C1.30534 10.9495 1.67784 10.3921 2.14744 9.9226C2.61692 9.45325 3.17425 9.08099 3.78762 8.82707L6.69417 7.62309C7.1151 7.44904 7.45084 7.11481 7.62609 6.69434L8.83034 3.78692C9.3433 2.54844 10.3273 1.56446 11.5657 1.05144C12.8042 0.538437 14.1957 0.538436 15.4342 1.05144L18.3393 2.25486C18.761 2.42891 19.2348 2.42869 19.6562 2.25387L19.6595 2.25251L22.5672 1.05322C23.8052 0.540904 25.197 0.540737 26.435 1.05351C27.6732 1.56642 28.657 2.55012 29.17 3.78827L30.3453 6.62589C30.3558 6.64829 30.3658 6.67101 30.3753 6.69404C30.5495 7.11542 30.8838 7.45042 31.3048 7.62552L34.213 8.83019C35.4515 9.3432 36.4355 10.3272 36.9485 11.5657C37.4613 12.8041 37.4613 14.1957 36.9485 15.4342L35.7445 18.3409C35.657 18.5519 35.6133 18.7769 35.6133 19.0005C35.6133 19.2242 35.657 19.4482 35.7445 19.6592L36.9485 22.5659C37.4613 23.8044 37.4613 25.1959 36.9485 26.4344C36.4355 27.6729 35.4515 28.6569 34.213 29.1699L31.3048 30.3745C30.8838 30.5497 30.5495 30.8847 30.3753 31.306C30.3658 31.329 30.3558 31.3517 30.3453 31.3742L29.17 34.2117C28.657 35.4499 27.6732 36.4337 26.435 36.9465C25.197 37.4594 23.8052 37.4592 22.5672 36.9469L19.6595 35.7475L19.6562 35.7462C19.2348 35.5714 18.761 35.5712 18.3393 35.7452L15.4342 36.9485C14.1957 37.4617 12.8042 37.4617 11.5657 36.9485C10.3273 36.4355 9.3433 35.4515 8.83034 34.2132L7.62609 31.3057C7.45084 30.8852 7.1151 30.551 6.69417 30.377L3.78762 29.173C3.17425 28.919 2.61692 28.5469 2.14744 28.0775C1.67784 27.608 1.30534 27.0505 1.05124 26.437C0.797137 25.8235 0.666397 25.166 0.666504 24.502C0.666604 23.8384 0.797821 23.1802 1.05185 22.567L2.25425 19.6559C2.34137 19.4459 2.38517 19.223 2.38567 19ZM26.0117 16.0119C26.6625 15.361 26.6625 14.3057 26.0117 13.6548C25.3608 13.004 24.3055 13.004 23.6547 13.6548L17.3332 19.9764L15.1784 17.8215C14.5275 17.1707 13.4722 17.1707 12.8213 17.8215C12.1705 18.4724 12.1705 19.5277 12.8213 20.1785L16.1547 23.5119C16.8055 24.1627 17.8608 24.1627 18.5117 23.5119L26.0117 16.0119Z"
      fill="white"
    />
  </svg>
);

export const BtcIcon = (
  <svg
    width="40"
    height="40"
    viewBox="0 0 40 40"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M39.375 20C39.375 30.7005 30.7005 39.375 20 39.375C9.29945 39.375 0.625 30.7005 0.625 20C0.625 9.29945 9.29945 0.625 20 0.625C30.7005 0.625 39.375 9.29945 39.375 20ZM28.3085 17.2398C28.6942 14.6618 26.7311 13.2759 24.0468 12.3513L24.9176 8.85898L22.7916 8.32922L21.9438 11.7295C21.3849 11.5902 20.8109 11.4589 20.2405 11.3287L21.0943 7.90609L18.9695 7.37633L18.0981 10.8674C17.6355 10.762 17.1813 10.6579 16.7405 10.5484L16.743 10.5374L13.8109 9.80539L13.2454 12.0759C13.2454 12.0759 14.8228 12.4373 14.7895 12.4597C15.6506 12.6746 15.8062 13.2444 15.7802 13.696L14.7883 17.6745C14.8477 17.6897 14.9245 17.7115 15.0093 17.7454C14.9384 17.7278 14.8627 17.7084 14.7846 17.6897L13.3943 23.263C13.2889 23.5245 13.0219 23.9169 12.42 23.768C12.4412 23.7988 10.8747 23.3823 10.8747 23.3823L9.81922 25.8156L12.5859 26.5052C13.1006 26.6342 13.6051 26.7692 14.1016 26.8963L13.2217 30.4286L15.3453 30.9584L16.2166 27.4636C16.7797 27.6162 17.3443 27.7627 17.9105 27.9031L17.0421 31.3815L19.1682 31.9112L20.048 28.3856C23.6733 29.0716 26.3995 28.7949 27.5469 25.5163C28.4716 22.8765 27.5009 21.3537 25.5935 20.3608C26.9825 20.0406 28.0294 19.1271 28.3085 17.2398ZM23.4509 24.0507C22.7939 26.6905 18.3488 25.2634 16.9076 24.9056L18.0751 20.226C19.5162 20.5856 24.1376 21.2977 23.4509 24.0507ZM24.1085 17.2017C23.5091 19.603 19.8092 18.383 18.6091 18.0839L19.6675 13.8396C20.8677 14.1387 24.7328 14.6969 24.1085 17.2017Z"
      fill="white"
    />
  </svg>
);

export const TgIcon = (
  <svg
    width="40"
    height="40"
    viewBox="0 0 40 40"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M20 0C8.95427 0 0 8.95427 0 20C0 31.0457 8.95427 40 20 40C31.0457 40 40 31.0457 40 20C40 8.95427 31.0457 0 20 0ZM29.2703 13.6016C28.9694 16.7641 27.667 24.4385 27.0042 27.9806C26.7239 29.4794 26.1718 29.9819 25.6374 30.031C24.4761 30.138 23.594 29.2635 22.4691 28.5261C20.7089 27.3723 19.7144 26.6539 18.0057 25.528C16.0311 24.2268 17.3112 23.5119 18.4365 22.3425C18.731 22.0366 23.8484 17.382 23.9474 16.9598C23.9598 16.9069 23.9716 16.7098 23.8544 16.6062C23.7371 16.5027 23.5648 16.5377 23.4402 16.5659C23.2637 16.606 20.4517 18.4647 15.0041 22.1419C14.206 22.6899 13.483 22.957 12.8352 22.943C12.1211 22.9276 10.7475 22.5393 9.72629 22.2073C8.47379 21.8002 7.47831 21.5849 7.565 20.8935C7.61016 20.5333 8.10613 20.165 9.0529 19.7886C14.8833 17.2484 18.7712 15.5737 20.7165 14.7644C26.2706 12.4542 27.4248 12.0529 28.177 12.0395C28.3425 12.0368 28.7124 12.0777 28.952 12.2722C29.1114 12.4107 29.213 12.604 29.2367 12.8138C29.2773 13.0743 29.2886 13.3386 29.2703 13.6016Z"
      fill="white"
    />
  </svg>
);

export const GhIcon = (
  <svg
    width="40"
    height="40"
    viewBox="0 0 40 40"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M13.379 32.2079C13.379 32.3734 13.1935 32.5057 12.9597 32.5057C12.6935 32.5305 12.5081 32.3982 12.5081 32.2079C12.5081 32.0425 12.6935 31.9102 12.9274 31.9102C13.1694 31.8854 13.379 32.0177 13.379 32.2079ZM10.871 31.8357C10.8145 32.0012 10.9758 32.1914 11.2177 32.241C11.4274 32.3237 11.6694 32.241 11.7177 32.0756C11.7661 31.9102 11.6129 31.7199 11.371 31.6455C11.1613 31.5876 10.9274 31.6703 10.871 31.8357ZM14.4355 31.6951C14.2016 31.753 14.0403 31.9102 14.0645 32.1004C14.0887 32.2658 14.2984 32.3734 14.5403 32.3155C14.7742 32.2576 14.9355 32.1004 14.9113 31.935C14.8871 31.7778 14.6694 31.6703 14.4355 31.6951ZM19.7419 0C8.55645 0 0 8.70954 0 20.1817C0 29.3544 5.62903 37.2037 13.6694 39.9663C14.7016 40.1565 15.0645 39.5031 15.0645 38.9655C15.0645 38.4527 15.0403 35.6239 15.0403 33.887C15.0403 33.887 9.39516 35.1277 8.20968 31.4222C8.20968 31.4222 7.29032 29.0153 5.96774 28.3949C5.96774 28.3949 4.12097 27.0964 6.09677 27.1212C6.09677 27.1212 8.10484 27.2866 9.20968 29.2551C10.9758 32.4478 13.9355 31.5297 15.0887 30.9838C15.2742 29.6604 15.7984 28.7423 16.379 28.1964C11.871 27.6836 7.32258 27.0136 7.32258 19.0568C7.32258 16.7822 7.93548 15.6408 9.22581 14.1851C9.01613 13.6474 8.33064 11.4308 9.43548 8.56893C11.121 8.03131 15 10.8021 15 10.8021C16.6129 10.339 18.3468 10.0991 20.0645 10.0991C21.7823 10.0991 23.5161 10.339 25.129 10.8021C25.129 10.8021 29.0081 8.02304 30.6935 8.56893C31.7984 11.439 31.1129 13.6474 30.9032 14.1851C32.1936 15.6491 32.9839 16.7905 32.9839 19.0568C32.9839 27.0385 28.2339 27.6753 23.7258 28.1964C24.4677 28.8498 25.0968 30.0905 25.0968 32.0342C25.0968 34.8216 25.0726 38.2707 25.0726 38.9489C25.0726 39.4866 25.4435 40.14 26.4677 39.9498C34.5323 37.2037 40 29.3544 40 20.1817C40 8.70954 30.9274 0 19.7419 0ZM7.83871 28.5273C7.73387 28.61 7.75806 28.8002 7.89516 28.9574C8.02419 29.0897 8.20968 29.1476 8.31452 29.0401C8.41935 28.9574 8.39516 28.7671 8.25806 28.61C8.12903 28.4776 7.94355 28.4197 7.83871 28.5273ZM6.96774 27.8573C6.91129 27.9648 6.99194 28.0972 7.15323 28.1799C7.28226 28.2626 7.44355 28.2378 7.5 28.122C7.55645 28.0145 7.47581 27.8821 7.31452 27.7994C7.15323 27.7498 7.02419 27.7746 6.96774 27.8573ZM9.58065 30.8018C9.45161 30.9094 9.5 31.1575 9.68548 31.3147C9.87097 31.5049 10.1048 31.5297 10.2097 31.3974C10.3145 31.2898 10.2661 31.0417 10.1048 30.8846C9.92742 30.6943 9.68548 30.6695 9.58065 30.8018ZM8.66129 29.586C8.53226 29.6687 8.53226 29.8837 8.66129 30.074C8.79032 30.2642 9.00806 30.3469 9.1129 30.2642C9.24193 30.1567 9.24193 29.9416 9.1129 29.7514C9 29.5612 8.79032 29.4785 8.66129 29.586Z"
      fill="white"
    />
  </svg>
);

const BadgeCard = (props: IProps) => {
  return (
    <div className="wrapper">
      <div className="openModal">{props.children}</div>
      <a href={props.href} target="_blank" rel="noreferrer">
        <div className="badgeContainer">
          {props.error && (
            <div className="errorTooltip">
              <Tooltip title="Possible CORS issue for user's NIP-05 domain">
                <Close color="error" />
              </Tooltip>
            </div>
          )}
          <div className={`circle ${props.variant}`}>
            <span className={`verify ${!props.verified && 'not-verify'}`}>
              {props.verified ? (
                <svg
                  width="12"
                  height="9"
                  viewBox="0 0 12 9"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M10.6668 1.5L4.25016 7.91667L1.3335 5"
                    stroke="white"
                    strokeWidth="1.16667"
                    strokeLinecap="round"
                    strokeLinejoin="round"
                  />
                </svg>
              ) : (
                <svg
                  width="10"
                  height="10"
                  viewBox="0 0 10 10"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M9 1L1 9M1 1L9 9"
                    stroke="white"
                    strokeWidth="1.58333"
                    strokeLinecap="round"
                    strokeLinejoin="round"
                  />
                </svg>
              )}
            </span>
            {props.variant === 'twitter' && TwitterIcon}
            {props.variant === 'mastodon' && MastodonIcon}
            {props.variant === 'nip' && NipIcon}
            {props.variant === 'btc' && BtcIcon}
            {props.variant === 'telegram' && TgIcon}
            {props.variant === 'github' && GhIcon}
          </div>
          {(props.variant === 'twitter' ||
            props.variant === 'mastodon' ||
            props.variant === 'telegram' ||
            props.variant === 'github') &&
            (props.verified ? (
              <p>
                User has signed their {props.variant} handle with their nostr
                private key
              </p>
            ) : (
              <p>
                <b>User has NOT signed</b> their {props.variant} handle with
                their nostr private key
              </p>
            ))}
          {props.variant === 'nip' &&
            (props.verified ? (
              <p>
                User has a valid NIP-05 identifier: <b>{props.text}</b>
              </p>
            ) : (
              <p>
                <b>User has NOT set a NIP-05</b> identifier themselves
              </p>
            ))}
          {props.variant === 'btc' &&
            (props.verified ? (
              <p>
                User has sent a 1,000+ sats donation to nostr.directory with
                their pubkey
              </p>
            ) : (
              <p>
                <b>User has NOT sent</b> a 1000+ sats donation to nostr.direc
              </p>
            ))}
        </div>
      </a>
      <style jsx>{`
        .wrapper {
          position: relative;
        }
        .badgeContainer {
          background: #ffffff;
          box-shadow: 0px 4px 16px rgba(69, 93, 101, 0.04);
          border-radius: 12px;
          border: 1px solid #eaeeee;

          height: 245px;
          padding: 44px 16px 33px 16px;
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 32px;
          z-index: 0;
        }
        .openModal {
          position: absolute;
          top: 13px;
          right: 13px;
          z-index: 2;
        }
        .circle {
          display: grid;
          place-items: center;
          width: 72px;
          height: 72px;
          border-radius: 100%;
          position: relative;
        }
        .errorTooltip {
          position: absolute;
          top: 16px;
          left: 16px;
        }
        .twitter {
          background: linear-gradient(
            158.74deg,
            #46bfee 14.86%,
            #1adace 102.75%
          );
        }
        .mastodon {
          background: linear-gradient(179.3deg, #6167f6 0.6%, #503fc3 104.2%);
        }
        .github {
          background: linear-gradient(
            215.68deg,
            #385d95 -18.74%,
            #34385f 103.35%
          );
        }
        .verify {
          position: absolute;
          top: 0;
          right: 0;
          width: 20px;
          height: 20px;
          background: #3acc8e;
          border: 1px solid #ffffff;
          border-radius: 100%;
          display: grid;
          place-items: center;
        }
        .not-verify {
          background: #c4d1d6;
        }
        .nip {
          background: linear-gradient(132.73deg, #38f483 0%, #3acc8e 96.33%);
        }
        .btc {
          background: linear-gradient(86.34deg, #efdc2e 6.01%, #f1b031 93.99%);
        }
        .telegram {
          background: linear-gradient(132.73deg, #3878f4 0%, #3aa9cc 96.33%);
        }
        p {
          font-weight: 400;
          font-size: 13px;

          text-align: center;

          color: #455d65;
        }
        @media (min-width: 0) {
          .badgeContainer {
            width: 100%;
          }
          .wrapper {
            width: 100%;
          }
          .wrapper a {
            width: 100%;
          }
        }
        @media (min-width: 700px) {
          .badgeContainer {
            width: 213px;
          }
        }
      `}</style>
    </div>
  );
};

export default BadgeCard;
